# ДЗ №2 для открытой школы Java-разработчиков от T1
**Суть задания:** Создание простой системы управления задачами с использованием Spring Boot и Spring Data JPA. 
# Описание реализации:
Реализовано простое веб-приложение.

## Модель 

Содержит единственную сущность **Task** (задача) со следующими полями:

* id - Идентификатор сущности. Long. первичный ключ.
* title - Заголовок задачи. String, до 500 символов. Обязательное поле.
* description - Описание задачи. String, до 4000 символов.
* dueDate - Крайний срок выполнения задачи. Date.
* completed - Признак, что задача выполнена. Boolean, значение по умолчанию = false. Обязательное поле.

Cохраняется в бд Postgresql в таблицу tasks. Для создания таблицы и добавления нескольких строчек написан скрипт с помощью Liquibase (src\main\resources\db\changelog\liquibase.xml). 

Для взаимодействия с бд в приложении используется Spring JpaRepository.

## REST API

Реализован REST-контроллер для обработки HTTP-запросов для выполнения CRUD-операций с задачами. Написаны следующие методы:

* GET /tasks - Получение списка всех задач:
  - Вовзращает список всех задач, сохраненных в бд, в виде дто TaskResponse.
* GET /tasks/{id} - Получение информации о задаче:
  - Принимает обязательное поле id - id задачи.
  - В случае успешного выполнения возвращет дто TaskResponse с информацией о задаче. 
  - В случае, если задачи с таким id не найдено, возвращает статус 404.
* POST /tasks - Создание задачи:
  - Принимает в теле запроса дто TaskInput (обязательное).
  - В случае успешного создания задачи возвращает дто TaskResponse с информацией о задаче.
* PUT /tasks/{id} - Обновление информации о задаче:
  - Принимает id задачи (обязательно) и опционально TaskInput в теле запроса.
  - Если TaskInput получено, то задача обновляется полностью в соответствии с полями в дто.
  - Если получено только id, то в задаче обновляется только поле is_completed - устанавливается true.
  - В случае успешного выполнения возвращет дто TaskResponse с информацией о задаче. 
  - Если задачи с таким id не найдено, возвращает статус 404.
* DELETE /tasks/{id} - Удаление задачи:
  - Принимает id задачи (обязательно).
  - Если задача успешно удалена, возвращает статус 200.
  - Если задачи с таким id не найдено, возвращает статус 404.

Схема дто TaskInput:

![image](https://github.com/devkabezrooki/t1-task-manager/assets/49373926/3a7504fc-a59a-407a-b5e0-e94dc54d630a)

Схема дто TaskResponse:

![image](https://github.com/devkabezrooki/t1-task-manager/assets/49373926/95dc5cab-d29f-45b4-bb0c-cb0f615d34b8)

Поля в дто TaskInput валидируются на корректные значения. В случае невалидных данных возвращается статус 400. 

Для взаимодействия с контроллером добавлен Swagger, доступен по адресу /swagger-ui/index.html.

Для всех методов контроллера написаны тесты для успешного и неуспешного запросов.

# Запуск приложения
Можно запустить приложение вместе с бд с помощью докера. Для этого необходимо:

1. Клонировать репозиторий с проектом
2. Из корневой папки проекта в командной строке выполнить команду для развертывания проекта
   ```
   docker-compose up
   ```
3. Приложение запускается на порте 8090.
# Использованные технологии:
* Java 17
* Spring Boot
* Spring Data Jpa
* Junit
* Mockito
* Postgresql
* Liquibase
* Swagger
* Docker
